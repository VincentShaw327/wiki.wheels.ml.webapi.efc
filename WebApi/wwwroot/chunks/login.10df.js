webpackJsonp([8],{832:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,s,o=a(844),r=n(o),i=a(848),d=n(i),c=a(339),f=n(c),m=a(136),p=n(m),h=a(838),g=n(h),k=a(38),E=n(k),b=a(109),v=n(b),y=a(206),N=n(y),S=a(93),_=n(S),w=a(3),F=n(w),P=a(13),I=n(P),L=a(4),x=n(L),D=a(5),M=n(D),q=a(837),z=n(q);a(853),a(855),a(341),a(200),a(836),a(205),a(110),a(839);var C=a(1),H=n(C),R=(a(112),a(74)),j=a(78),J=a(352),O=z.default.Item,T=(l=(0,R.connect)(function(e,t){return{config:e.config,loginResponse:e.tabListResult}}),u=z.default.create({onFieldsChange:function(e,t){}}),l(s=u(s=function(e){function t(e,a){(0,F.default)(this,t);var n=(0,x.default)(this,(t.__proto__||(0,_.default)(t)).call(this,e));return n.checkName=function(e,t,a){a()},n.checkPass=function(e,t,a){a()},n.noop=function(){return!1},n.state={loading:!1},n.handleSubmit=n.handleSubmit.bind(n),n.checkPass=n.checkPass.bind(n),n.checkName=n.checkName.bind(n),n.noop=n.noop.bind(n),n}return(0,M.default)(t,e),(0,I.default)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||((0,N.default)(a).map(function(e){return a[e]=a[e]&&a[e].trim()}),t.props.dispatch((0,J.fetchLogin)(a,function(e){console.log(e),v.default.success(e.msg),1===e.status&&t.props.dispatch((0,J.userInfo)(a,function(e){console.log(e),sessionStorage.setItem("token",e.data.token),j.hashHistory.push("/")},function(e){v.default.warning(e)}))},function(e){v.default.warning(e.msg),t.setState({loading:!1})})),sessionStorage.setItem("token","dupi"),j.hashHistory.push("/"))})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return H.default.createElement("div",{className:"login"},H.default.createElement("div",{className:"sy_top"}),H.default.createElement("div",{className:"btmLogin"},H.default.createElement("div",{className:"sy_bottom"},H.default.createElement("h1",{id:"PerformName"},"登录"),H.default.createElement(r.default,{className:"ul-wrap"},H.default.createElement(d.default,{span:24},H.default.createElement(f.default,{spinning:this.state.loading},H.default.createElement(z.default,{onSubmit:this.handleSubmit},H.default.createElement(O,{hasFeedback:!0},e("username",{rules:[{required:!0,message:"请输入用户名"},{validator:this.checkName}]})(H.default.createElement(g.default,{prefix:H.default.createElement(E.default,{type:"user",style:{fontSize:13}}),placeholder:"请输入用户名",type:"text"}))),H.default.createElement(O,{hasFeedback:!0},e("password",{rules:[{required:!0,message:"请输入密码"}]})(H.default.createElement(g.default,{prefix:H.default.createElement(E.default,{type:"lock",style:{fontSize:13}}),placeholder:"请输入密码",type:"password"}))),H.default.createElement(O,null,H.default.createElement(p.default,{type:"primary",htmlType:"submit"},"登录"),H.default.createElement(j.Link,{to:"/register"},"注册")))))))))}}]),t}(C.Component))||s)||s);t.default=T}});