webpackJsonp([7],{833:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,r,u,i=a(844),d=n(i),o=a(848),c=n(o),s=a(339),f=n(s),m=a(136),p=n(m),h=a(838),g=n(h),v=a(38),k=n(v),y=a(109),E=n(y),b=a(206),S=n(b),N=a(93),_=n(N),w=a(3),C=n(w),F=a(13),P=n(F),D=a(4),x=n(D),q=a(5),z=n(q),B=a(837),M=n(B);a(853),a(855),a(341),a(200),a(836),a(205),a(110),a(839);var R=a(1),L=n(R),V=(a(112),a(74)),j=a(78),I=a(354),J=M.default.Item,O=(l=(0,V.connect)(function(e,t){return{config:e.config,loginResponse:e.loginResponse}}),r=M.default.create({onFieldsChange:function(e,t){}}),l(u=r(u=function(t){function a(e,t){(0,C.default)(this,a);var n=(0,x.default)(this,(a.__proto__||(0,_.default)(a)).call(this,e));return n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})},n.checkPassword=function(e,t,a){var l=n.props.form;t&&t!==l.getFieldValue("password")?a("两次输入的密码不一致"):a()},n.checkConfirm=function(e,t,a){var l=n.props.form;t&&n.state.confirmDirty&&l.validateFields(["confirm"],{force:!0}),a()},n.state={loading:!1},n.handleSubmit=n.handleSubmit.bind(n),n.handleChange=n.handleChange.bind(n),n.checkPass=n.checkPass.bind(n),n.checkName=n.checkName.bind(n),n.noop=n.noop.bind(n),n}return(0,z.default)(a,t),(0,P.default)(a,[{key:"handleSubmit",value:function(t){var a=this;t.preventDefault(),this.props.form.validateFields(function(t,n){t||((0,S.default)(n).map(function(e){return n[e]=n[e]&&n[e].trim()}),a.props.dispatch((0,I.fetchRegister)(n,function(t){if(E.default.success(t.msg),1===t.status){a.props.form.getFieldsValue();e.gconfig.staff=t.data.user}},function(e){E.default.warning(e.msg),a.setState({loading:!1})})))})}},{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"componentDidMount",value:function(){}},{key:"checkName",value:function(e,t,a){a()}},{key:"checkPass",value:function(e,t,a){a()}},{key:"noop",value:function(){return!1}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return L.default.createElement("div",{className:"login"},L.default.createElement("div",{className:"sy_top"}),L.default.createElement("div",{className:"btmLogin"},L.default.createElement("div",{className:"sy_bottom"},L.default.createElement("h1",{id:"PerformName"},"注册"),L.default.createElement(d.default,{className:"ul-wrap"},L.default.createElement(c.default,{span:24},L.default.createElement(f.default,{spinning:this.state.loading},L.default.createElement(M.default,{onSubmit:this.handleSubmit},L.default.createElement(J,{hasFeedback:!0},e("username",{rules:[{required:!0,message:"请输入用户名"},{validator:this.checkName}]})(L.default.createElement(g.default,{prefix:L.default.createElement(k.default,{type:"user",style:{fontSize:13}}),placeholder:"请输入用户名",type:"text"}))),L.default.createElement(J,{hasFeedback:!0},e("password",{rules:[{required:!0,message:"请输入密码"},{validator:this.checkConfirm}]})(L.default.createElement(g.default,{prefix:L.default.createElement(k.default,{type:"lock",style:{fontSize:13}}),placeholder:"请输入密码",type:"password",onBlur:this.handleConfirmBlur}))),L.default.createElement(J,{hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"请输入密码"},{validator:this.checkPassword}]})(L.default.createElement(g.default,{prefix:L.default.createElement(k.default,{type:"lock",style:{fontSize:13}}),placeholder:"请再次输入密码",type:"password"}))),L.default.createElement(J,null,L.default.createElement(p.default,{type:"primary",htmlType:"submit"},"确定注册"),L.default.createElement(j.Link,{to:"/login"},"登录")))))))))}}]),a}(R.Component))||u)||u);t.default=O}).call(t,a(31))}});