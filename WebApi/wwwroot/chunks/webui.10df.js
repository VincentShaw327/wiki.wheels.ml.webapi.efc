webpackJsonp([4],{1341:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelUIItemEdit=t.togUIItemEdit=t.toggleCheckedUI=t.uiDelete=t.uiAdd=t.uiUpdate=t.uiList=t.recevieUIList=t.requestUIList=void 0;var l=a(51),u=a(76),i=a(342),n=t.requestUIList=(0,l.createAction)("request ui list"),r=t.recevieUIList=(0,l.createAction)("receive ui list");t.uiList=(0,u.createAjaxAction)(i.apimodule.ui,n,r),t.uiUpdate=(0,u.createAjaxAction)(i.apimodule.ui,null,(0,l.createAction)("success update ui")),t.uiAdd=(0,u.createAjaxAction)(i.apimodule.ui,null,(0,l.createAction)("success add ui ")),t.uiDelete=(0,u.createAjaxAction)(i.apimodule.ui,null,(0,l.createAction)("success delete ui ")),t.toggleCheckedUI=(0,l.createAction)("toggle checked ui"),t.togUIItemEdit=(0,l.createAction)("toggle ui item edit state"),t.cancelUIItemEdit=(0,l.createAction)("cancel ui item edit state")},828:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,i,n,r=a(337),s=l(r),d=a(9),o=l(d),c=a(838),f=l(c),I=a(845),m=l(I),U=a(136),p=l(U),g=a(863),v=l(g),h=a(864),k=l(h),E=a(109),A=l(E),y=a(209),x=l(y),b=a(93),D=l(b),S=a(3),C=l(S),q=a(13),_=l(q),j=a(4),w=l(j),M=a(5),N=l(M),F=a(837),L=l(F);a(338),a(836),a(854),a(200),a(867),a(868),a(110),a(839);var O=a(869),P=(l(O),a(1)),R=l(P),V=a(74),z=a(1341),T=a(139);a(856);var B=L.default.Item,J=(u=L.default.create({}),i=(0,V.connect)(function(e,t){return{UI:e.UI}}),u(n=i(n=function(e){function t(e){(0,C.default)(this,t);var a=(0,w.default)(this,(t.__proto__||(0,D.default)(t)).call(this,e));return a.add=function(e){var t=(a.state.editItem,(0,x.default)(e,{nUIFlag:1,strUINote:"",uParentObjectUUID:0})),l={op:"add",reqdata:{data:T.fn_mes_trans.toCols(t)}};console.log("更新前的item",e,l),a.props.dispatch((0,z.uiAdd)(l,function(e){a.setState({showModal:!1}),A.default.success("添加成功!"),a.getUI()}))},a.update=function(e){var t=a.state.editItem;console.log("kaishi update",e);var l={op:"update",reqdata:{data:T.fn_mes_trans.toCols(e),cond:{equal:[{key:"uObjectUUID",val:t.uObjectUUID}],like:[]}}};console.log("更新前的item",t,l),a.props.dispatch((0,z.uiDelete)(l,function(e){a.setState({showModal:!1}),A.default.success("更新成功"),a.getUI()}))},a.delete=function(e){var t={op:"update",reqdata:{data:[{key:"nUIFlag",val:0}],cond:{equal:[{key:"uObjectUUID",val:e.uObjectUUID}],like:[]}}};console.log("要刪除的item",e,t),a.props.dispatch((0,z.uiDelete)(t,function(e){A.default.success("刪除成功"),a.getUI()}))},a.state={PageIndex:0,PageSize:-1,showModal:!1,editItem:{}},a}return(0,N.default)(t,e),(0,_.default)(t,[{key:"componentDidMount",value:function(){this.getUI()}},{key:"getUI",value:function(){var e={op:"list",reqdata:{PageIndex:0,PageSize:-1,cond:{equal:[{key:"nUIFlag",val:1}],like:[]}}};this.props.dispatch((0,z.uiList)(e,function(e){}))}},{key:"FormSubmit",value:function(e,t){var a=this,l=this.state.isAdd;this.props.form.validateFields(function(e,t){console.log("收到表单值：",t),e?(console.log("Errors in form!!!"),A.default.error("添加失败")):(l?a.add(t):a.update(t),a.setState({isAdd:!1}))}),this.props.form.resetFields()}},{key:"render",value:function(){var e=this,t=this.props,a=t.UI,l=t.form,u=a.list,i=l.getFieldDecorator,n=this.state.editItem,r=[{title:"strUIName",dataIndex:"strUIName",key:"name"},{title:"strUICode",dataIndex:"strUICode",key:"strUICode"},{title:"strUIRoute",key:"strUIRoute",dataIndex:"strUIRoute"},{title:"strUISource",key:"strUISource",dataIndex:"strUISource"},{title:"strUIDesc",key:"strUIDesc",dataIndex:"strUIDesc"},{title:"strUINote",key:"strUINote",dataIndex:"strUINote"},{title:"Action",key:"action",render:function(t,a){return R.default.createElement("span",null,R.default.createElement("a",{onKeyDown:function(){return""},onClick:function(){return e.setState({editItem:a,showModal:!0,isAdd:!1})}},"更新"),R.default.createElement(k.default,{type:"vertical"}),R.default.createElement(v.default,{placement:"topLeft",title:"确定删除此项吗?",onConfirm:function(){return e.delete(a)},okText:"Yes",cancelText:"No"},R.default.createElement("a",null,"删除")))}}],d={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}};return R.default.createElement("div",{className:"page"},R.default.createElement("div",{style:{width:"100%",padding:"25px 35px"}},R.default.createElement(p.default,{type:"primary",style:{marginBottom:18},onClick:function(){return e.setState({showModal:!0,isAdd:!0,editItem:{}})}},"添加"),R.default.createElement(m.default,{columns:r,dataSource:u})),R.default.createElement(s.default,{title:"添加",visible:this.state.showModal,onOk:function(t,a){return e.FormSubmit(t,a)},onCancel:function(){return e.setState({showModal:!1})}},R.default.createElement(L.default,null,R.default.createElement(B,(0,o.default)({},d,{label:"UI名称"}),i("strUIName",{rules:[{required:!0,message:"请输入字段！"}],initialValue:n.strUIName})(R.default.createElement(f.default,null))),R.default.createElement(B,(0,o.default)({},d,{label:"UI编码"}),i("strUICode",{rules:[{required:!0,message:"请输入名称"}],initialValue:n.strUICode})(R.default.createElement(f.default,null))),R.default.createElement(B,(0,o.default)({},d,{label:"路由"}),i("strUIRoute",{rules:[{required:!0,message:"请输入名称"}],initialValue:n.strUIRoute})(R.default.createElement(f.default,null))),R.default.createElement(B,(0,o.default)({},d,{label:"strUISource"}),i("strUISource",{rules:[{required:!0,message:"请输入名称"}],initialValue:n.strUISource})(R.default.createElement(f.default,null))),R.default.createElement(B,(0,o.default)({},d,{label:"备注"}),i("strUIDesc",{rules:[{required:!0,message:"请输入名称"}],initialValue:n.strUIDesc})(R.default.createElement(f.default,null))))))}}]),t}(P.Component))||n)||n);t.default=J}});