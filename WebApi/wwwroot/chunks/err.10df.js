webpackJsonp([5],{1342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errDelete=t.errAdd=t.errUpdate=t.errList=void 0;var a=r(51),o=r(76),l=r(342);t.errList=(0,o.createAjaxAction)(l.apimodule.error,(0,a.createAction)("request error list"),(0,a.createAction)("receive error list")),t.errUpdate=(0,o.createAjaxAction)(l.apimodule.error,null,(0,a.createAction)("success update err")),t.errAdd=(0,o.createAjaxAction)(l.apimodule.error,null,(0,a.createAction)("success add err ")),t.errDelete=(0,o.createAjaxAction)(l.apimodule.error,null,(0,a.createAction)("success delete err "))},829:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,n,d=r(337),s=a(d),i=r(9),u=a(i),c=r(838),f=a(c),p=r(845),m=a(p),E=r(136),h=a(E),g=r(109),v=a(g),A=r(93),I=a(A),k=r(3),y=a(k),R=r(13),b=a(R),M=r(4),_=a(M),w=r(5),x=a(w),U=r(837),C=a(U);r(338),r(836),r(854),r(200),r(110),r(839);var D=r(1),j=a(D),S=r(74),q=r(1342),O=r(139);r(856);var P=C.default.Item,F=(o=C.default.create({}),l=(0,S.connect)(function(e,t){return{ERR:e.ERR}}),o(n=l(n=function(e){function t(e){(0,y.default)(this,t);var r=(0,_.default)(this,(t.__proto__||(0,I.default)(t)).call(this,e));return r.getERR=function(){var e={op:"list",reqdata:{PageIndex:0,PageSize:-1}};r.props.dispatch((0,q.errList)(e,function(e){}))},r.add=function(e){var t=(r.state.editItem,{op:"add",reqdata:{data:O.fn_mes_trans.toCols(e)}});console.log("更新前的item",e,t),r.props.dispatch((0,q.errAdd)(t,function(e){r.setState({showModal:!1}),v.default.success("添加成功!"),r.getERR()}))},r.update=function(e){var t=r.state.editItem;console.log("kaishi update",e);var a={op:"update",reqdata:{data:O.fn_mes_trans.toCols(e),cond:{equal:[{key:"uObjectUUID",val:t.uObjectUUID}],like:[]}}};console.log("更新前的item",t,a),r.props.dispatch((0,q.errUpdate)(a,function(e){r.setState({showModal:!1,editItem:{}}),v.default.success("更新成功"),r.getERR()}))},r.delete=function(e){var t={op:"delete",reqdata:{cond:{equal:[{key:"uObjectUUID",val:e.uObjectUUID}],like:[]}}};console.log("要刪除的item",e,t),r.props.dispatch((0,q.errDelete)(t,function(e){v.default.success("刪除成功"),r.getERR()}))},r.state={PageIndex:0,PageSize:-1,showModal:!1,editItem:{}},r}return(0,x.default)(t,e),(0,b.default)(t,[{key:"componentDidMount",value:function(){console.log("props",this.props),this.getERR()}},{key:"FormSubmit",value:function(e,t){var r=this,a=this.state.isAdd;this.props.form.validateFields(function(e,t){console.log("收到表单值：",t),e?(console.log("Errors in form!!!"),v.default.error("添加失败")):(a?r.add(t):r.update(t),r.setState({isAdd:!1}))}),this.props.form.resetFields()}},{key:"render",value:function(){var e=this,t=this.props,r=t.ERR,a=t.form,o=r.list,l=a.getFieldDecorator,n=this.state.editItem,d=[{title:"ID",dataIndex:"uObjectUUID",key:"name",width:120},{title:"错误编码",dataIndex:"nErrorCode",key:"nErrorCode"},{title:"错误信息",key:"strErrorMsg",dataIndex:"strErrorMsg"},{title:"Action",key:"action",width:180,render:function(t,r){return j.default.createElement("span",null,j.default.createElement("a",{onKeyDown:function(){return""},onClick:function(){return e.setState({editItem:r,showModal:!0,isAdd:!1})}},"更新"))}}],i={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}};return j.default.createElement("div",{className:"page"},j.default.createElement("div",{style:{width:"100%",padding:"25px 35px"}},j.default.createElement(h.default,{type:"primary",style:{marginBottom:18},onClick:function(){return e.setState({showModal:!0,isAdd:!0,editItem:{}})}},"添加"),j.default.createElement(m.default,{columns:d,dataSource:o,bordered:!0})),j.default.createElement(s.default,{title:"更新或添加",visible:this.state.showModal,onOk:function(t,r){return e.FormSubmit(t,r)},onCancel:function(){return e.setState({showModal:!1,editItem:{}})}},j.default.createElement(C.default,null,j.default.createElement(P,(0,u.default)({},i,{label:"错误编码"}),l("nErrorCode",{rules:[{required:!0,message:"请输入字段！"}],initialValue:n.nErrorCode})(j.default.createElement(f.default,null))),j.default.createElement(P,(0,u.default)({},i,{label:"错误信息"}),l("strErrorMsg",{rules:[{required:!0,message:"请输入名称"}],initialValue:n.strErrorMsg})(j.default.createElement(f.default,null))))))}}]),t}(D.Component))||n)||n);t.default=F}});