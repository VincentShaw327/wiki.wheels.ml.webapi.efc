webpackJsonp([6],{1343:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appDelete=t.appUpdate=t.appAdd=t.appList=void 0;var l=a(51),p=a(76),n=a(342);t.appList=(0,p.createAjaxAction)(n.apimodule.app,(0,l.createAction)("request app list"),(0,l.createAction)("receive app list")),t.appAdd=(0,p.createAjaxAction)(n.apimodule.app,null,(0,l.createAction)("successs add app item")),t.appUpdate=(0,p.createAjaxAction)(n.apimodule.app,null,(0,l.createAction)("success update app item")),t.appDelete=(0,p.createAjaxAction)(n.apimodule.app,null,(0,l.createAction)("success delete app item"))},830:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p,n,d,u=a(337),r=l(u),s=a(9),i=l(s),o=a(845),c=l(o),f=a(136),m=l(f),A=a(863),g=l(A),v=a(864),I=l(v),E=a(345),h=l(E),D=a(109),x=l(D),k=a(209),y=l(k),U=a(93),b=l(U),w=a(3),C=l(w),q=a(13),_=l(q),M=a(4),S=l(M),j=a(5),O=l(j),P=a(837),F=l(P),N=a(838),V=l(N),T=a(900),L=l(T);a(338),a(854),a(200),a(867),a(868),a(353),a(110),a(839),a(836),a(909);var z=a(869),B=(l(z),a(1)),J=l(B),K=a(74),R=(a(78),a(1343)),Y=a(139);a(856);var G=(L.default.TreeNode,V.default.TextArea,F.default.Item),H=(p=F.default.create({}),n=(0,K.connect)(function(e,t){return{config:e.config,ApiManage:e.apiManage,App:e.App}}),p(d=n(d=function(e){function t(e){(0,C.default)(this,t);var a=(0,S.default)(this,(t.__proto__||(0,b.default)(t)).call(this,e));return a.add=function(e){var t=(a.state.editItem,(0,y.default)(e,{nAppFlag:1,strAppNote:"",uParentObjectUUID:0})),l={op:"add",reqdata:{data:Y.fn_mes_trans.toCols(t)}};console.log("更新前的item",e,l),a.props.dispatch((0,R.appAdd)(l,function(e){a.setState({showModal:!1}),x.default.success("添加成功!"),a.getApp()}))},a.update=function(e){var t=a.state.editItem;console.log("kaishi update",e);var l={op:"update",reqdata:{data:Y.fn_mes_trans.toCols(e),cond:{equal:[{key:"uObjectUUID",val:t.uObjectUUID}],like:[]}}};console.log("更新前的item",t,l),a.props.dispatch((0,R.appDelete)(l,function(e){a.setState({showModal:!1}),x.default.success("更新成功"),a.getApp()}))},a.delete=function(e){var t={op:"update",reqdata:{data:[{key:"nAppFlag",val:0}],cond:{equal:[{key:"uObjectUUID",val:e.uObjectUUID}],like:[]}}};console.log("要刪除的item",e,t),a.props.dispatch((0,R.appDelete)(t,function(e){x.default.success("刪除成功"),a.getApp()}))},a.state={PageIndex:0,PageSize:-1,showModal:!1,editItem:{}},a}return(0,O.default)(t,e),(0,_.default)(t,[{key:"componentDidMount",value:function(){this.getApp()}},{key:"getApp",value:function(){var e={op:"list",reqdata:{PageIndex:0,PageSize:-1,cond:{equal:[{key:"nAppFlag",val:1}],like:[]}}};this.props.dispatch((0,R.appList)(e,function(e){}))}},{key:"FormSubmit",value:function(e,t){var a=this,l=this.state.isAdd;this.props.form.validateFields(function(e,t){console.log("收到表单值：",t),e?(console.log("Errors in form!!!"),x.default.error("添加失败")):(l?a.add(t):a.update(t),a.setState({isAdd:!1}))}),this.props.form.resetFields()}},{key:"render",value:function(){var e=this,t=this.props,a=t.App,l=t.form,p=a.list,n=l.getFieldDecorator,d=this.state.editItem,u=[{title:"APPName",dataIndex:"strAppName",key:"name"},{title:"Exe",dataIndex:"strAppExe",key:"strAppExe"},{title:"strAppCode",key:"strAppCode",dataIndex:"strAppCode"},{title:"strAppID",key:"strAppID",dataIndex:"strAppID"},{title:"uAppUUID",key:"uAppUUID",dataIndex:"uAppUUID"},{title:"strAppDesc",key:"strAppDesc",dataIndex:"strAppDesc",width:150,render:function(e){return J.default.createElement(h.default,{placement:"topRight",title:e},J.default.createElement("div",{style:{whiteSpace:"nowrap",width:150,textOverflow:"ellipsis",overflow:"hidden"}},e))}},{title:"Action",key:"action",render:function(t,a){return J.default.createElement("span",null,J.default.createElement("a",{onKeyDown:function(){return""},onClick:function(){return e.setState({editItem:a,showModal:!0,isAdd:!1})}},"更新"),J.default.createElement(I.default,{type:"vertical"}),J.default.createElement(g.default,{placement:"topLeft",title:"确定删除此项吗?",onConfirm:function(){return e.delete(a)},okText:"Yes",cancelText:"No"},J.default.createElement("a",null,"删除")))}}],s={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}};return J.default.createElement("div",{className:"page"},J.default.createElement("div",{style:{width:"100%",padding:"25px 35px"}},J.default.createElement(m.default,{type:"primary",style:{marginBottom:18},onClick:function(){return e.setState({showModal:!0,isAdd:!0,editItem:{}})}},"添加"),J.default.createElement(c.default,{columns:u,dataSource:p})),J.default.createElement(r.default,{title:"添加",visible:this.state.showModal,onOk:function(t,a){return e.FormSubmit(t,a)},onCancel:function(){return e.setState({showModal:!1,editItem:{}})}},J.default.createElement(F.default,null,J.default.createElement(G,(0,i.default)({},s,{label:"app名称"}),n("strAppName",{rules:[{required:!0,message:"请输入字段！"}],initialValue:d.strAppName})(J.default.createElement(V.default,null))),J.default.createElement(G,(0,i.default)({},s,{label:"Exe"}),n("strAppExe",{rules:[{required:!0,message:"请输入名称"}],initialValue:d.strAppExe})(J.default.createElement(V.default,null))),J.default.createElement(G,(0,i.default)({},s,{label:"strAppCode"}),n("strAppCode",{rules:[{required:!0,message:"请输入名称"}],initialValue:d.strAppCode})(J.default.createElement(V.default,null))),J.default.createElement(G,(0,i.default)({},s,{label:"uAppUUID"}),n("uAppUUID",{rules:[{required:!0,message:"请输入名称"}],initialValue:d.uAppUUID})(J.default.createElement(V.default,null))),J.default.createElement(G,(0,i.default)({},s,{label:"strAppID"}),n("strAppID",{rules:[{required:!0,message:"请输入名称"}],initialValue:d.strAppID})(J.default.createElement(V.default,null))),J.default.createElement(G,(0,i.default)({},s,{label:"备注"}),n("strAppDesc",{rules:[{required:!0,message:"请输入名称"}],initialValue:d.strAppDesc})(J.default.createElement(V.default.TextArea,{rows:8}))))))}}]),t}(B.Component))||d)||d);t.default=H}});