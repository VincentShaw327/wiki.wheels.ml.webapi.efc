webpackJsonp([6],{1343:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appDelete=t.appUpdate=t.appAdd=t.appList=void 0;var l=a(51),p=a(76),n=a(342);t.appList=(0,p.createAjaxAction)(n.apimodule.app,(0,l.createAction)("request app list"),(0,l.createAction)("receive app list")),t.appAdd=(0,p.createAjaxAction)(n.apimodule.app,null,(0,l.createAction)("successs add app item")),t.appUpdate=(0,p.createAjaxAction)(n.apimodule.app,null,(0,l.createAction)("success update app item")),t.appDelete=(0,p.createAjaxAction)(n.apimodule.app,null,(0,l.createAction)("success delete app item"))},830:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p,n,u,d=a(337),r=l(d),s=a(9),i=l(s),o=a(845),c=l(o),f=a(136),m=l(f),A=a(863),I=l(A),g=a(864),v=l(g),E=a(109),D=l(E),h=a(209),x=l(h),k=a(93),U=l(k),y=a(3),b=l(y),C=a(13),q=l(C),_=a(4),M=l(_),j=a(5),w=l(j),S=a(837),P=l(S),F=a(838),N=l(F),O=a(900),V=l(O);a(338),a(854),a(200),a(867),a(868),a(110),a(839),a(836),a(909);var L=a(869),T=(l(L),a(1)),z=l(T),B=a(74),J=(a(78),a(1343)),K=a(139);a(856);var Y=(V.default.TreeNode,N.default.TextArea,P.default.Item),G=(p=P.default.create({}),n=(0,B.connect)(function(e,t){return{config:e.config,ApiManage:e.apiManage,App:e.App}}),p(u=n(u=function(e){function t(e){(0,b.default)(this,t);var a=(0,M.default)(this,(t.__proto__||(0,U.default)(t)).call(this,e));return a.add=function(e){var t=(a.state.editItem,(0,x.default)(e,{nAppFlag:1,strAppNote:"",uParentObjectUUID:0})),l={op:"add",reqdata:{data:K.fn_mes_trans.toCols(t)}};console.log("更新前的item",e,l),a.props.dispatch((0,J.appAdd)(l,function(e){a.setState({showModal:!1}),D.default.success("添加成功!"),a.getApp()}))},a.update=function(e){var t=a.state.editItem;console.log("kaishi update",e);var l={op:"update",reqdata:{data:K.fn_mes_trans.toCols(e),cond:{equal:[{key:"uObjectUUID",val:t.uObjectUUID}],like:[]}}};console.log("更新前的item",t,l),a.props.dispatch((0,J.appDelete)(l,function(e){a.setState({showModal:!1}),D.default.success("更新成功"),a.getApp()}))},a.delete=function(e){var t={op:"update",reqdata:{data:[{key:"nAppFlag",val:0}],cond:{equal:[{key:"uObjectUUID",val:e.uObjectUUID}],like:[]}}};console.log("要刪除的item",e,t),a.props.dispatch((0,J.appDelete)(t,function(e){D.default.success("刪除成功"),a.getApp()}))},a.state={PageIndex:0,PageSize:-1,showModal:!1,editItem:{}},a}return(0,w.default)(t,e),(0,q.default)(t,[{key:"componentDidMount",value:function(){this.getApp()}},{key:"getApp",value:function(){var e={op:"list",reqdata:{PageIndex:0,PageSize:-1,cond:{equal:[{key:"nAppFlag",val:1}],like:[]}}};this.props.dispatch((0,J.appList)(e,function(e){}))}},{key:"FormSubmit",value:function(e,t){var a=this,l=this.state.isAdd;this.props.form.validateFields(function(e,t){console.log("收到表单值：",t),e?(console.log("Errors in form!!!"),D.default.error("添加失败")):(l?a.add(t):a.update(t),a.setState({isAdd:!1}))}),this.props.form.resetFields()}},{key:"render",value:function(){var e=this,t=this.props,a=t.App,l=t.form,p=a.list,n=l.getFieldDecorator,u=this.state.editItem,d=[{title:"APPName",dataIndex:"strAppName",key:"name"},{title:"Exe",dataIndex:"strAppExe",key:"strAppExe"},{title:"strAppCode",key:"strAppCode",dataIndex:"strAppCode"},{title:"strAppID",key:"strAppID",dataIndex:"strAppID"},{title:"uAppUUID",key:"uAppUUID",dataIndex:"uAppUUID"},{title:"strAppDesc",key:"strAppDesc",dataIndex:"strAppDesc"},{title:"Action",key:"action",render:function(t,a){return z.default.createElement("span",null,z.default.createElement("a",{onKeyDown:function(){return""},onClick:function(){return e.setState({editItem:a,showModal:!0,isAdd:!1})}},"更新"),z.default.createElement(v.default,{type:"vertical"}),z.default.createElement(I.default,{placement:"topLeft",title:"确定删除此项吗?",onConfirm:function(){return e.delete(a)},okText:"Yes",cancelText:"No"},z.default.createElement("a",null,"删除")))}}],s={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}};return z.default.createElement("div",{className:"page"},z.default.createElement("div",{style:{width:"100%",padding:"25px 35px"}},z.default.createElement(m.default,{type:"primary",style:{marginBottom:18},onClick:function(){return e.setState({showModal:!0,isAdd:!0,editItem:{}})}},"添加"),z.default.createElement(c.default,{columns:d,dataSource:p})),z.default.createElement(r.default,{title:"添加",visible:this.state.showModal,onOk:function(t,a){return e.FormSubmit(t,a)},onCancel:function(){return e.setState({showModal:!1,editItem:{}})}},z.default.createElement(P.default,null,z.default.createElement(Y,(0,i.default)({},s,{label:"app名称"}),n("strAppName",{rules:[{required:!0,message:"请输入字段！"}],initialValue:u.strAppName})(z.default.createElement(N.default,null))),z.default.createElement(Y,(0,i.default)({},s,{label:"Exe"}),n("strAppExe",{rules:[{required:!0,message:"请输入名称"}],initialValue:u.strAppExe})(z.default.createElement(N.default,null))),z.default.createElement(Y,(0,i.default)({},s,{label:"strAppCode"}),n("strAppCode",{rules:[{required:!0,message:"请输入名称"}],initialValue:u.strAppCode})(z.default.createElement(N.default,null))),z.default.createElement(Y,(0,i.default)({},s,{label:"uAppUUID"}),n("uAppUUID",{rules:[{required:!0,message:"请输入名称"}],initialValue:u.uAppUUID})(z.default.createElement(N.default,null))),z.default.createElement(Y,(0,i.default)({},s,{label:"strAppID"}),n("strAppID",{rules:[{required:!0,message:"请输入名称"}],initialValue:u.strAppID})(z.default.createElement(N.default,null))),z.default.createElement(Y,(0,i.default)({},s,{label:"备注"}),n("strAppDesc",{rules:[{required:!0,message:"请输入名称"}],initialValue:u.strAppDesc})(z.default.createElement(N.default,null))))))}}]),t}(T.Component))||u)||u);t.default=G}});